<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table{
            width:700px;
            border:3px solid teal;
        }
        tr:first-of-type{
            background:rgb(255, 188, 188);
        }
        th{
            background:rgb(172, 248, 172);
            
        }
        tr:first-of-type>td:first-of-type{
            background:rgb(255, 188, 188);
        }
        td:first-of-type{
            background:rgb(151, 151, 221);
        }
        td{
            width:100px;
            height:50px;
            border:1px solid blue;
            text-align: center;
        }
    </style>

    <script>
        
    </script>

</head>
<body>
    <h1>아이스크림</h1>
    <form action="test.jsp" name="icecream">
        <p><label for="names">이름</label><input type="text" name="names" id="names"></p>
        <p><label for="prices">가격</label><input type="text" name="prices" id="prices"></p>
        <p><label for="brands">브랜드</label><input type="text" name="brands" id="brands"></p>
        <button name="btnInput">입력</button> 
        <button name="btnShow">정보보기</button>
        <button name="btnNames">아이스크림명</button>
        <button name="btnPrices">아이스크림가격</button>
        <button name="btnBrands">아이스크림브랜드</button>
    </form>
    <h2>아이스크림 정보</h2>
    <div id="showBox">

    </div>
    <h2 id="per"></h2>
    <div id="showList"></div>

    <script>
        document.icecream.btnNames.addEventListener("click", function(e){
            e.preventDefault();
            document.querySelector("#per").innerText = "아이스크림 이름";
            document.querySelector("#showList").innerText = name1.join("-"); 
        });
        document.icecream.btnPrices.addEventListener("click", function(e){
            e.preventDefault();
            document.querySelector("#per").innerText = "아이스크림 가격";
            document.querySelector("#showList").innerText = price.join("-"); 
        });
        document.icecream.btnBrands.addEventListener("click", function(e){
            e.preventDefault();
            document.querySelector("#per").innerText = "아이스크림 브랜드";
            document.querySelector("#showList").innerText = brand.join("-"); 
        });

        //이벤트 연결
        document.icecream.btnInput.addEventListener("click", function(e){
            e.preventDefault();
            var na = document.icecream.names.value;
            var pr = document.icecream.prices.value*1;
            var br = document.icecream.brands.value;

            
            if(na != "" && pr != "" && br != ""){
                
                name1.push(na);
                price.push(pr*1);
                brand.push(br);
                alert("입력");
                document.icecream.names.value = "";
                document.icecream.prices.value = "";
                document.icecream.brands.value = "";
            }else{
                alert("값을 입력해주세요.");
            }
            

        });

        document.icecream.btnShow.addEventListener("click", function(e){
            e.preventDefault();
            showIcecream();
        });

        //
        var name1 = ["브라보콘", "구구콘", "메타콘", "월드콘", "허쉬콘"]
        var price = [1500, 2000, 1800, 1500, 2400]
        var brand = ["롯데", "빙그레", "해태", "오리온", "삼양"]

        var icecream = [name1, price, brand]

        
        //2중 for문 ★★★★★★★★★★강대훈 완전 재수없어;★★★★★★★★★★★★
        // document.write("<table><thead><tr><th colspan='6'>아이스크림</th></tr></thead><tbody>");
        // for(var i=0; i<icecream.length; i++){
        //     document.write("<tr>");
        //     if(i == 0){
        //         document.write("<th> 아이스크림 명 :</th>")
        //     }else if(i == 1){
        //         document.write("<th> 가격 :</th>")
        //     }else if(i == 2){
        //         document.write("<th> 브랜드 :</th>")
        //     }
        //     for(var a=0; a<name1.length; a++){
        //         document.write("<td>"+icecream[i][a]+"</td>");
                
        //     }
        //     document.write("</tr>");
        // }
        // document.write("</tbody></table>");

        // 반대로 브라보콘 1500 롯데 이렇게 나오도록 만들기
        
        function showIcecream(){
            var txt = "<table><thead><tr><th colspan='3'>아이스크림</th></tr></thead><tbody>";
        
            for(var i=0; i<name1.length; i++){

                if(i == 0){
                    txt += ("<tr>");
                    txt += ("<td>이름</td>");
                    txt += ("<td>가격</td>");
                    txt += ("<td>브랜드</td>");
                    txt += ("</tr>");
                }

                txt += "<tr>";
                
                for(var j=0; j<icecream.length; j++){

                    txt += "<td>"+icecream[j][i]+"</td>";
                }
                txt += "</tr>";
            }
            txt += "</tbody></table>";

            var box = document.querySelector("#showBox");
            box.innerHTML = txt;
        }
        
         /* 원하는 형식으로 정렬되었을 때 다른 배열도 그런 방식으로 정렬시키기 */     

    //     var mapped = names.map(function(el, i) {
    // return { index: i, value: el.toLowerCase() };
    // })

    // console.log(mapped);

    // names.sort(function(a,b){
    //   if(a<b){
    //       return -1;
    //   }else{
    //       return 1;
    //   }
    // });

    // var tmp1=[]

    // for(var i=0; i<names.length; i++){
    //   for(var k =0; k<names.length; k++){
    //      if(names[i] == mapped[k].value)
    //           tmp1.push(k);
    //       } 
    //   }
    // }
    // console.log(tmp1);
    // var newPrices = [];
    // for(var j=0; j<prices.length; j++){
    //   newPrices.push(prices[tmp1[j]]);
    // }
    // console.log(names);
    // console.log(newPrices);
        
    </script>
</body>
</html>